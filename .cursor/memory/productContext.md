# Product Context

## 解決すべき課題
ユーザーが「今の気分に合う音楽」を見つけるのに時間がかかる問題。天気や時間帯といった環境要因を考慮せずに、手動でプレイリストを探す必要がある。

## ユーザー体験のゴール
- **即座の適応**: アプリを開いた瞬間、現在の天気と時間に合わせた背景色とアニメーションが表示される
- **直感的な探索**: レコード盤を回すような自然な操作でプレイリストを切り替えられる
- **没入感**: 天気アニメーション（雨が降る、雪が舞うなど）により、現在の環境を視覚的に体感できる

## なぜ作るのか
1. **環境と音楽の調和**: 天気や時間帯は人の気分に大きく影響する。これらを考慮した音楽提案により、より自然な音楽体験を提供できる
2. **視覚的な楽しさ**: 単なるリストではなく、美しいUIとアニメーションで音楽探索を楽しめる
3. **開発効率**: テストパネルにより、開発中に様々な天気・時間帯の組み合わせを簡単にテストできる

## ユーザージャーニー（現在の実装）

1. アプリを開く
2. **Spotify 連携時**: ログイン画面で Spotify ログイン。**モック時**: ログイン不要でそのまま利用
3. 位置情報の許可（初回のみ）
4. 現在の天気と時間に応じた背景色・アニメーションが自動表示
5. **Favorite Music**（右下）で好みのジャンルを 1〜8 個選択（保存は自動）
6. **Mood Tuning**（左下）で天気・時間帯を手動変更可能（任意）。「実際の天気・時間に戻す」は、パネルを開いた時点で実際と違う状態を設定している場合のみ表示
7. 天気・時間帯が変わるとプレイリストを自動で再生成（自動更新 ON 時。Mood Tuning 中は対象外）
8. レコード盤をスワイプしてプレイリストを探索。右 3 周で表示中ジャンル再生成、左 3 周で全件再生成
9. 気に入ったプレイリストを視覚的に選択（**今後のビジョン**: 実際の音楽再生・Spotify 保存）

## 競合優位性
- 天気と時間帯の組み合わせによる高度なパーソナライゼーション
- 視覚的に美しいアニメーションによる没入感
- シンプルで直感的なUI

